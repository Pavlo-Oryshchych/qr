<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
</head>
<body>
<h2>Welcome, User!</h2>

<!-- QR Code Generation Form -->
<form action="/generate" method="post">
    <label for="content">Enter Content:</label><br>
    <input type="text" id="content" name="content" required><br><br>
    <button type="submit">Generate QR Code</button>
</form>

<br>

<!-- List of User's QR Codes -->
<h3>Your QR Codes:</h3>
<table border="1">
    <thead>
    <tr>
        <th>Content</th>
        <th>Creation Date</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <!-- Loop through user's QR codes -->
    <tr th:each="qrCode : ${qrCodes}">
        <td th:text="${qrCode.content}"></td>
        <td th:text="${qrCode.creationDate}"></td>
        <td>
            <!-- Button to download QR Code -->
            <a th:href="@{'/download/' + ${qrCode.id}}">Download</a>

            <!-- Button to delete QR Code -->
            <form th:action="@{'/delete/' + ${qrCode.id}}" method="post">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
